/*! Javascript v0.0.1 CAR.com (c)2014 - Team:http://www.car.com/humans.txt */!function e(i,o,n){function a(s,c){if(!o[s]){if(!i[s]){var l="function"==typeof require&&require;if(!c&&l)return l(s,!0);if(t)return t(s,!0);throw new Error("Cannot find module '"+s+"'")}var r=o[s]={exports:{}};i[s][0].call(r.exports,function(e){var o=i[s][1][e];return a(o?o:e)},r,r.exports,e,i,o,n)}return o[s].exports}for(var t="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,i,o){!function(e,i,o){var n=function(){var e="click",n="change",a=function(e){var i={};return e.forEach(function(e){i[e.name]=e.value}),i},t=function(){var t=i("#step_1 form"),s="name",c=i("#evalType"),l=i("#evalType2"),r=i(".evalTypeDesc"),d=i(".evalTypeDesc2"),h=t.find("["+s+"=year]"),p=t.find("["+s+"=make]"),v=t.find("["+s+"=model_trim]"),u=i("#mileage"),f=i("#zipCode"),m=i("#btnDetails"),y=i("#btnSubmit"),k=i(".newSearch"),b=(i("#btnSearchCars"),i("#drives")),w=i("#transmissions"),C=i("#engines"),g=i("#vehicleoptions"),x=i("#zipCodeVal"),D=i("#mileageVal"),S=i("#drivesVal"),T=i("#transmissionsVal"),_=i("#enginesVal"),P=i("#vehicleoptionsVal"),q=i("#dollarSign"),V=i("#vehicleValue"),j=i("#requiredTextSection1"),A=i("#requiredTextSection2"),B=i("#conditionExcellent"),E=i("#conditionExcellent2"),M=i("#conditionExcellentDesc"),z=i("#conditionExcellentDesc2"),F=i("#conditionGood"),G=i("#conditionGood2"),I=i("#conditionGoodDesc"),J=i("#conditionGoodDesc2"),N=i("#conditionFair"),O=i("#conditionFair2"),R=i("#conditionFairDesc"),K=i("#conditionFairDesc2"),Q=i("#conditionPoor"),W=i("#conditionPoor2"),Y=i("#conditionPoorDesc"),Z=i("#conditionPoorDesc2"),H=i(".conditionDesc"),L=i("#section1"),U=i("#section2"),X=i("#section3"),$=i("#section4"),ee=i("#sectionAboutKBB"),ie=i("#sectionKBBcopyright"),oe=i("#tradeInDesc"),ne=i("#tradeInDesc2"),ae=i("#privatePartyDesc"),te=i("#privatePartyDesc2"),se=i("#suggestedRetailDesc"),ce=i("#suggestedRetailDesc2"),le="select",re="selected",de="option";return{init:function(){t.on(e,le,function(){var e=i(this),o=e.val(),n=e.find(".prompt");if(o!==n){o||e.find(de+":"+re).prop(re,!1).next(de).prop(re,!0).change(),e.removeClass("hint-mode");var a=t.find(le+":nth-of-type("+(e.data("ord")+1)+")");a.prop("disabled",!1)}}),c.on(n,function(){i(".type-cont").css("visibility","visible"),r.hide(),d.hide(),"TI"==i(this).val()?(oe.show(),ne.show()):"PP"==i(this).val()?(ae.show(),te.show()):"R"==i(this).val()&&(se.show(),ce.show()),l.val(i(this).val())}),l.on(n,function(){d.hide(),r.hide(),"TI"==i(this).val()?(oe.show(),ne.show()):"PP"==i(this).val()?(ae.show(),te.show()):"R"==i(this).val()&&(se.show(),ce.show()),c.val(i(this).val()),y.click()}),h.on(n,function(){var e=a(t.serializeArray());i.post("/api/car-value-param/makes/",{"":JSON.stringify({eval_type:e.evalType,year:e.year})},function(e){p.empty().append("<option disabled selected class='prompt'>Make</option>");var o=[];i.each(e.data.makes,function(e,i){o.push("<option value='"+i.key+"'>"+i.value+"</option>")}),p.append(o.join(""))})}),p.on(n,function(){var e=a(t.serializeArray());i.post("/api/car-value-param/model-trims/",{"":JSON.stringify({eval_type:e.evalType,year:e.year,make:e.make})},function(e){v.empty().append("<option disabled selected class='prompt'>Model</option>");var o=[];i.each(e.data.model_trims,function(e,i){o.push("<option value='"+i.key+"'>"+i.value+"</option>")}),v.append(o.join(""))})}),m.on(e,function(e){if(e.preventDefault(),c.css("border-color","#CCCCCC"),h.css("border-color","#CCCCCC"),p.css("border-color","#CCCCCC"),v.css("border-color","#CCCCCC"),j.hide(),c.val()&&h.val()&&p.val()&&v.val())i.post("/api/car-value-param/features/",{"":JSON.stringify({trim:i("#model_trim").val()})},function(e){i("#step2_cardesc").html(i("#year option:selected").text()+" "+i("#make option:selected").text()+" "+i("#model option:selected").text()+" "+i("#model_trim option:selected").text()),i("#step3_cardesc").html(i("#year option:selected").text()+" "+i("#make option:selected").text()+" "+i("#model option:selected").text()+" "+i("#model_trim option:selected").text()),b.html("");var o=[];i.each(e.data.drives,function(e,i){i.preselect?o.push('<div class="radio"><input type="radio" id="radio'+i.key+'" name="drives" value=\''+i.key+'\' class="drives" checked /><label for="radio'+i.key+'"><span></span>'+i.value+"</label></div>"):o.push('<div class="radio"><input type="radio" id="radio'+i.key+'" name="drives" value=\''+i.key+'\' class="drives" /><label for="radio'+i.key+'"><span></span>'+i.value+"</label></div>")}),b.append(o.join("")),w.html("");var n=[];i.each(e.data.transmissions,function(e,i){i.preselect?n.push('<div class="radio"><input type="radio" id="radio'+i.key+'" name="transmissions" value=\''+i.key+'\' class="transmissions" checked /><label for="radio'+i.key+'"><span></span>'+i.value+"</label></div>"):n.push('<div class="radio"><input type="radio" id="radio'+i.key+'" name="transmissions" value=\''+i.key+'\' class="transmissions" /><label for="radio'+i.key+'"><span></span>'+i.value+"</label></div>")}),w.append(n.join("")),C.html("");var a=[];i.each(e.data.engines,function(e,i){i.preselect?a.push('<div class="radio"><input type="radio" id="radio'+i.key+'" name="engines" value="'+i.key+'" class="engines" checked /><label for="radio'+i.key+'"><span></span>'+i.value+"</label></div>"):a.push('<div class="radio"><input type="radio" id="radio'+i.key+'" name="engines" value="'+i.key+'" class="engines"><label for="radio'+i.key+'"><span></span>'+i.value+"</label></div>")}),C.append(a.join("")),g.html("");var t=[];i.each(e.data.vehicleoptions,function(e,i){i.preselect?t.push('<li><input type="checkbox" id="cb'+i.key+'" value="'+i.key+'" class="vehicleoptions" checked /><label for="cb'+i.key+'">'+i.value+"</label></li>"):t.push('<li><input type="checkbox" id="cb'+i.key+'" value="'+i.key+'" class="vehicleoptions"><label for="cb'+i.key+'">'+i.value+"</label></li>")}),g.append(t.join("")),g.append(""),L.hide(),X.hide(),$.hide(),ee.hide(),ie.hide(),U.show()}),o.ADS.reload();else{var n="",a=0;c.val()||(n+="Type",a++,c.css("border-color","red")),h.val()||(a>=1&&(n+=", "),n+="Year",a++,h.css("border-color","red")),p.val()||(a>=1&&(n+=", "),n+="Make",a++,p.css("border-color","red")),v.val()||(a>=1&&(n+=", "),n+="Model",a++,v.css("border-color","red")),n+=1==a?" is ":" are ",n+="required.",j.show().html(n).css("color","red")}}),y.on(e,function(e){if(e.preventDefault(),u.css("border-color","#CCCCCC"),f.css("border-color","#CCCCCC"),u.val()&&f.val()&&i("input:radio[name=condition]:checked").val()){A.hide(),V.html(""),P.html(""),x.html(f.val()),D.html(u.val()),i(".drives:checked + label").each(function(){S.html(i(this).text())}),i(".transmissions:checked + label").each(function(){T.html(i(this).text())}),i(".engines:checked + label").each(function(){_.html(i(this).text())}),i(".vehicleoptions:checked + label").each(function(){P.append("<li>"+i(this).text()+"</li>")});var n,a=[];i(".drives:checked").each(function(){a.push(i(this).val())}),i(".transmissions:checked").each(function(){a.push(i(this).val())}),i(".engines:checked").each(function(){a.push(i(this).val())}),i(".vehicleoptions:checked").each(function(){a.push(i(this).val())}),n=a.join(","),i.post("/api/car-value-param/vehiclevalue/",{"":JSON.stringify({trim:v.val(),eval_type:c.val(),mileage:u.val(),postalcode:f.val(),condition_type:i("input:radio[name=condition]:checked").val(),equipment_list:n})},function(e){""==e.data.vehicleValue?(q.hide(),V.html("We are not able to estimate the current value of this vehicle.")):(q.show(),V.html(e.data.vehicleValue.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),window.scrollTo(0,0),L.hide(),U.hide(),ee.hide(),X.show(),$.show(),ie.show()}),o.ADS.reload()}else{var t="",s=0;i.trim(u.val())||(t+="Mileage",s++,u.css("border-color","red")),i.trim(f.val())||(s>=1&&(t+=", "),t+="Zip Code",s++,f.css("border-color","red")),i("input:radio[name=condition]:checked").val()||(s>=1&&(t+=", "),t+="Condition",s++),t+=1==s?" is ":" are ",t+="required.",A.show().html(t).css("color","red")}}),k.on(e,function(e){o.ADS.reload(),window.scrollTo(0,0),L.show(),ee.show(),U.hide(),X.hide(),$.hide(),ie.hide()}),B.on(e,function(){H.hide(),M.show(),E.prop("checked",!0),z.show()}),F.on(e,function(){H.hide(),I.show(),G.prop("checked",!0),J.show()}),N.on(e,function(){H.hide(),R.show(),O.prop("checked",!0),K.show()}),Q.on(e,function(){H.hide(),Y.show(),W.prop("checked",!0),Z.show()}),E.on(e,function(){H.hide(),z.show(),B.prop("checked",!0),M.show(),y.click()}),G.on(e,function(){H.hide(),J.show(),F.prop("checked",!0),I.show(),y.click()}),O.on(e,function(){H.hide(),K.show(),N.prop("checked",!0),R.show(),y.click()}),W.on(e,function(){H.hide(),Z.show(),Q.prop("checked",!0),Y.show(),y.click()})}}}();return{init:function(){t.init()}}}();i(function(){n.init()})}(window,jQuery,ABT)},{}]},{},[1]);