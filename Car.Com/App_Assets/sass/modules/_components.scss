/**
 *  This sass module contains the definitions of all kinds of compornents that apply to all devices.
 */

@charset "UTF-8";

// Apply this to body element to disable scrollbar on body when Overlay is visible (all browsers except iOS)
.noscroll {
  overflow: hidden;
  width: 100%;
}

// Apply this to body element to disable scrollbar on body when Overlay is visible (iOS)
.noscroll-ios {
  overflow: hidden;
  width: 100%;
  position: fixed;
}

.link {
  border-bottom: dashed 1px $normal;
  @include link-colors($normal,$hover);
}

// $NAVIGATION COMPONENTS
nav {
  display: none;
}

.nav-trigger {
  position: absolute;
  clip: rect(0, 0, 0, 0);
}

label[for="nav-trigger"] {
  // critical positioning styles
  position: fixed;
  right: 1em;
  top: .875em;
  z-index: 2;
  // non-critical apperance styles
  height: 30px;
  width: 30px;
  cursor: pointer;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' x='0px' y='0px' width='30px' height='30px' viewBox='0 0 30 30' enable-background='new 0 0 30 30' xml:space='preserve'><rect width='30' height='6'/><rect y='24' width='30' height='6'/><rect y='12' width='30' height='6'/></svg>");
  background-size: contain;
}

nav {
  transition: display 0.2s;
}

.nav-trigger:checked ~ nav {
  display: block;
  height: 93vh;
}

@include breakpoint($medium) {
  nav {
    display: block;
  }

  label[for="nav-trigger"] {
    display: none;
  }
}

.navigation {

  nav {
    ul {
      display: table;
      width: 100%;
      height: 90%;
      padding-left: 0;
      margin-top: 0;
      margin-bottom: 0;

      @include breakpoint($medium) {
        display: block;
      }
    }

    li {
      display: table-row;
      height: 20%;

      @include breakpoint($small) {
        width: 100%;
        padding: .5em 0;
      }

      @include breakpoint($medium) {
        display: block;
        height: auto;
      }
    }

    a {
      display: table-cell;
      vertical-align: middle;
      padding: .75em;
      color: #c6c6c6;
      @include font(1.8,1.3);
      font-family: $header-font-family;

      @include breakpoint($small) {
        margin: 0 auto;
        text-align: center;
      }

      @include breakpoint($medium) {
        display: block;
        padding: 1.25em .75em;
        vertical-align: top;
        @include font(1.3,1.3);
      }

      &:hover {
        color: $alabaster;
        background: $accent-color;

        .i-nav {
          svg {
            fill: $alabaster;
          }
        }

        @include breakpoint($medium) {
          background: none;
        }
      }
    }
  }
}

// $Side Panel contains sliding-in content and navigation
.side-panel-container {
  @include box-shadow(1px 0 5px 0 rgba(0,0,0,.15));
  @include transition(all 0.3s ease-in-out);
  @include cf;

  &.hidden {
    display: block;
    overflow: hidden;
    height: 54px;
  }

  @include breakpoint($medium) {
    height: 100%;
    position: fixed;
    top: 0;
    z-index: 10000;
    left: 0;

    &.hidden {
      left: -$offer-panel-width;
      height: 100%;
    }
  }

  .navigation {
    position: fixed;
    top: 0;
    width: 100%;
    float: none;
    z-index: 10000;

    @include breakpoint($medium) {
      position: static;
      float: left;
      height: 100%;
      width: $sitenav-col-width;
      overflow-y: auto;
      overflow-x: hidden;

      &.relative {
        position: relative;
      }
    }
  }
}

.side-panel {
  display: block;
  position: fixed;
  top: 0;
  height: 100%;
  width: 100%;
  overflow-y: auto;
  z-index: 10001;
  padding: 1.5em;
  background: $overlay-dk;
  color: $overlay-dk-body-text;

  .hidden & {
    display: none;
  }
  // when Autoweb ads are available, widen to include the ads in the second column
  &.wide {

    @include breakpoint($medium) {
      width: 800px;

      .side-panel-inner-cont {

        @include cf;

        .col1, .col2 {
          padding: 1em;
          @include border-radius(10px);
        }

        .col1 {
          width: 40%;
          float: right;
        }

        .col2 {
          width: 55%;
          float: left;
          margin-right: 5%;
        }
      }
    }
  }

  @include breakpoint($medium) {
    display: block;
    position: relative;
    z-index: 1;
    float: left;

    .hidden & {
      display: block;
    }
  }

  hr {
    border: solid 1px #fff;
    background-color: #fff;
    margin: 1.5em 0;
  }

  h1 {
    margin-top: 0;
    margin-bottom: .75em;
    color: #fff;
    @include font(3, 1.2);
  }

  @include breakpoint($medium) {
    width: $offer-panel-width;
  }

  .special-offers {
    margin-top: 1.5em;

    .h5 {
      color: #fff;
      font-weight: bold;
      @include font(1.8, 1.3);
    }
  }
}

// $H1 PAGE TITLE COMPONENTS
.page-title {
  background: $chathams-blue;
  padding: .75em 1em;

  @include breakpoint($small) {
    padding: 1em $primary-side-pad;
  }

  h1 {
    color: #fff;
    margin-bottom: 0;
  }
}

// $SITE FOOTER COMPONENTS
.site-footer {
  background: $footer;
  color: $silver;

  @include breakpoint($small) {
    @include font(1.4, 1.3);
  }

  .footer-links {
    @include horizontal-list-container;
    margin-bottom: .75em;

    li {
      @include horizontal-list-item (10px);
    }

    a {
      color: $silver;

      &:hover {
        color: $alabaster;
      }
    }
  }
}

// GLOBAL ZIP DISPLAY
.btn-zip {
  position: absolute;
  top: 11px;
  right: 60px;
  background: #585858;
  color: $alabaster;

  @include breakpoint($medium) {
    position: static;
    padding: .5em;
    margin: 0 auto;
    background: none;
    vertical-align: middle;
  }
}

.icon.location {
  width: 2em;
  height: 2em;

  svg {
    fill: $alabaster;
  }
}

.zip {
  vertical-align: middle;
  @include font(1.5, 1.3);
}

// $MAKE, MODEL LIST
%mnm-list {
  @include linear-list(0);
  @include no-bullets;

  .list-head {
    display: block;
    padding: .5em;
    background: #F7F7F7;
    font-weight: 700;
    @include font(1.6, 1.3);
    color: $accent-color-hover;

    @include breakpoint($small) {
      padding: .5em;
      background: none;
    }
  }
  /*> li {
    @include breakpoint($small) {
      margin-bottom: .5em;
    }
  }*/
  li ul {
    padding-left: 0;
    margin: 0;
  }

  li {
    border-bottom: solid 1px $alto;

    &:last-child {
      border-bottom: none;
    }

    a {
      display: block;
      padding: .25em .5em;

      &:hover {
        color: $accent-color-hover;
      }
    }

    .btn-mm {
      display: block;
      width: 100%;
      padding: .25em .5em;
      background: transparent;
      text-align: left;
      @include font(1.5, 1.8);

      &.selected {
        background: $accent-color;
        color: #fff;
        @include border-radius(0);

        &:hover {
          color: #fff;
        }
      }
    }
  }

  @include breakpoint($small) {
    margin: 0 auto 1.5em;

    li {
      border-bottom: none;
      @include font(1.5, 1.3);

      a {
        display: inline-block;
        width: auto;
        padding: .25em .5em;
        margin: .25em 0;
      }

      .btn-mm {
        display: inline-block;
        width: auto;
        padding: .125em .5em;
        margin: .125em 0;

        &:hover {
          color: $accent-color-hover;
        }

        &.selected {
          width: auto;
          @include border-radius(3px);
        }
      }
    }
  }

  @include breakpoint($small) {
    @include column-count(3);
  }

  @include breakpoint($large) {
    @include column-count(4);
  }

  @include breakpoint($xlarge) {
    @include column-count(5);
  }
}

// $MAKE LIST
%make-list {
  @include breakpoint($small) {
    margin-left: 8%;
  }
}

// $CATEGORY ICON LIST
%category-list {
  padding-left: 0;
  @include no-bullets;
  @include cf;

  li {
    padding: 1em;
    @include gallery(6 of 12);
    margin-bottom: gutter(12);

    @include breakpoint($small) {
      @include gallery(3 of 12);
      margin-bottom: gutter(12);
    }

    @include breakpoint($medium) {
      @include gallery(4 of 12);
      margin-bottom: gutter(12);
    }

    @include breakpoint($large) {
      @include gallery(3 of 12);
      margin-bottom: gutter(12);
    }

    .value {
      display: block;
      text-align: center;
      @include font(1.6, 1.3);
    }

    .icon {
      height: 50px;

      svg {
        fill: $gray;
      }
    }

    text-align: center;

    &.selected {
      svg {
        fill: $accent-color;
      }

      .value {
        color: $accent-color;
      }
    }
  }

  a {
    display: block;
  }
}

// $TRIM AND C4S FILTER COMPONENTS
.context-driven-container {
  margin-bottom: .25em;
  overflow: hidden;

  .pad-wrap {
    padding: 1em 0 1em 1em;
    @include cf;
  }
}

.tot-count-cont {
  padding: .5em;
  margin: 5px 0;
  background: $tundora;
  color: #fff;
  text-align: center;

  .sub {
    font-weight: 700;
    display: inline-block;
    margin-bottom: 0;
    @include font(1.6, 1.3);
  }

  @include breakpoint($small) {
    float: left;
    padding: .55em .5em;
    margin: 0;
    @include border-radius(2px);

    span, small {
      display: block;
    }
  }

  &.c4s {
    @include breakpoint($small) {
      margin: 5px 0;
      padding: .6em .5em;
    }
  }
}

.tot-count {
  @include font(4, 1);
}

.tot-count-research {
  display: inline-block;
  width: 7rem;
  height: 7rem;
  padding: .5em .125em;
  background: $accent-color;
  z-index: 3;
  color: #FFF;
  text-align: center;
  @include border-radius(50px);
  @include font(2.2, 1.5);

  small {
    display: block;
    @include font(1.2, 1);
  }
}

.filter-cont-header {
  display: block;
  padding: .25em 1.5em;
  margin-bottom: .25em;
  background: $tundora;
  color: white;
  text-align: center;
  @include font(1.3, 1.5);

  @include breakpoint($small) {
    margin-left: 90px;
    text-align: left;
    @include border-bottom-right-radius(0);
    @include border-bottom-left-radius(0);
  }
}

.auto-scroll {
  overflow-y: hidden;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;

  @include breakpoint($small) {
    position: relative;
    left: .25em;
    height: 101px;
  }

  &.c4s {
    @include breakpoint($small) {
      left: initial;
      height: 120px;
    }
  }

  @media screen and (min-color-index:0) and(-webkit-min-device-pixel-ratio:0) {
    /* Safari only override */
    &::-webkit-scrollbar {
      -webkit-appearance: none;
      width: 8px;
    }

    &::-webkit-scrollbar-track {
      background-color: $concrete;
      border-radius: 3px;
      -webkit-box-shadow: 0 0 2px rgba(57,57,57,.5);
    }

    &::-webkit-scrollbar-thumb {
      border-radius: 3px;
      background-color: #a9a9a9;
    }
  }
}

.filter-by {
  position: relative;
}

.filter-dropdown {
  position: absolute;
  bottom: 0;
  left: 0;
}

.filter-cont {
  white-space: nowrap;

  @include breakpoint($small) {
    display: table;
    border-collapse: separate;
    border-spacing: 1px;
    position: absolute;

    .c4s & {
      border-spacing: 5px;
    }
  }

  .col {
    width: 100%;
    text-align: center;
    padding: .5em .75em;
    background: $porcelain;
    vertical-align: middle;
    font-weight: bold;
    overflow-x: auto;

    &.stack {
      @include breakpoint($xsmall-down) {
        display: block !important;
        border-bottom: solid 1px $silver;
      }
    }

    @include breakpoint($small) {
      width: auto;
      display: table-cell;
      margin-left: .25em;
      white-space: nowrap;
      overflow-x: hidden;
      @include border-radius(2px);
    }

    &.btn {
      padding: $default-btn-padding;
      background: $accent-color;
      color: #fff;
      cursor: pointer;
      @include font(1.3, 1.3);

      .text {
        vertical-align: middle;

        span {
          @include breakpoint($small) {
            display: block;
          }
        }
      }

      .i-filter, .i-plus {
        margin: 0 auto;
        width: 1.5em;
        height: 1.5em;
        vertical-align: middle;

        svg {
          fill: white;
        }

        @include breakpoint($small) {
          display: block;
          width: 2em;
          height: 2em;
          margin-top: .5em;
        }
      }

      &:hover {
        background: $accent-color-hover;
      }
    }

    .reset {
      display: inline-block;
      padding: .5em 1em;
      margin-left: 1em;
      background: #17BD5C;
      color: #075F2C;
      @include font(1.3, 1.3);
      @include border-radius(2px);

      &.disabled {
        color: #0BA14A;
        background: #109045;
      }

      @include breakpoint($small) {
        display: block;
        padding: .25em .5em;
        margin-left: 0;
      }
    }
  }

  .hide {
    background-color: transparent;
    position: absolute;
    left: -1000px;
    height: 1px;
    width: 1px;
    overflow: hidden;
  }

  .sub {
    display: block;
    margin-bottom: .5em;

    @include font(1.2, 1.3);
  }

  h3 {
    margin: 0 0 .25em;
    @include font(1.2, 1.5);
  }

  &.research {
    @include breakpoint($small) {
      margin-left: -.25em;
    }

    h3 {
      margin: 0 0 .5em;
      color: #000;

      &:before {
        content: "By ";
      }
    }

    .col {
      @include breakpoint($small) {
        height: 86px;
      }
    }
  }

  .range-list.price {
    @include breakpoint($small) {
      min-width: 96px;
    }
  }

  .range-list.mileage {
    @include breakpoint($small) {
      min-width: 116px;
    }
  }

  .label {
    display: block;
    margin-left: .75em;
    @include font(1.3, 1.3);
  }
}

// $CFS Year Filter
.year-filter {
  min-width: 165px;
  margin-top: .5em;

  .inner-col {
    display: inline-block;
  }

  .thru {
    padding: 0 .5em;
  }
}

.info-container {
  background: #FFF;
  padding: 0 .5em 0 0;
  text-align: center;

  @include breakpoint($small) {
    float: left;
    width: 15%;
  }

  .total-trim-count-container {
    text-align: center;
    padding: .5em;
    margin-bottom: .35em;
    background: #e7e8ea;
    color: $filter-highlight;
    @include border-radius(2px);

    .total-trim-count {
      width: 100%;

      @include breakpoint($small) {
        @include font(3, 1);
      }

      @include font(4, 1);
    }

    .sub {
      display: block;
      margin-bottom: .5em;
      @include font(1.2, 1.3);
    }
  }

  .reset, .modify {
    width: 100%;
    padding: .2em .5em;
    margin-bottom: .5em;
    @include font(1.2, 1.3);

    @include breakpoint($small) {
      margin-bottom: 0;
    }
  }

  .reset {
    line-height: 1.2;
  }
}

// $RESEARCH FILTER
.filter-list {
  display: inline-block;
  padding-left: 0;
  margin: 0;
  @include no-bullets;
  @include cf;

  @include breakpoint($small) {
    display: block;
    border-spacing: 0;
  }

  li {
    margin-right: .5em;
    display: table-cell;

    &:last-of-type {
      margin-right: 0;
    }

    .btn-filter {
      display: block;
      width: 100%;
      padding: .25em .75em .25em;
      background: transparent;
    }

    &.selected .btn-filter {
      background: #D7D7D7;
    }
  }

  .filter-value {
    line-height: 1;
    vertical-align: middle;
    display: block;
    font-size: 1.15rem;
    text-align: center;
    white-space: nowrap;
    color: #000;
  }

  [class*='filter-icon-'] {
    max-height: 22px;
    min-height: 22px;
    max-width: 60px;
    min-width: 45px;
  }
}

// $C4S Filter
$bar-height-default: 3px;
$bar-height-multi-value: 8px;

.bar-chart {
  .range-list {
    @include inline-block-list;
    margin-bottom: .25em;

    li {
      margin-right: 3px;
      vertical-align: bottom;
    }
  }

  [class^="bar"] {
    width: 2em;
    display: inline-block;
    background-color: $tundora;
    vertical-align: bottom;

    @include breakpoint($small) {
      width: .75em;
    }

    &.selected {
      background-color: $filter-highlight;
    }
  }

  &.high-low {

    .bar1 {
      height: $bar-height-multi-value + $bar-height-default;
    }

    .bar2 {
      height: $bar-height-multi-value * 1.5 + $bar-height-default;
    }

    .bar3 {
      height: $bar-height-multi-value * 2 + $bar-height-default;
    }

    .bar4 {
      height: $bar-height-multi-value * 2.5 + $bar-height-default;
    }

    .bar5 {
      height: $bar-height-multi-value * 3 + $bar-height-default;
    }

    .bar6 {
      height: $bar-height-multi-value * 3.5 + $bar-height-default;
    }
  }

  &.even {
    li {
      height: $bar-height-multi-value * 3.5 + $bar-height-default;
    }

    [class^="bar"] {
      height: $bar-height-multi-value * 2 + $bar-height-default;

      @include breakpoint($small) {
        width: 1em;
      }
    }
  }
}

// $TRIM/MAKE/CATEGORY TILE
%trim-tile-container {
  width: 100%;
  padding-left: 0;
  margin: 0 0 1.5em;
  @include no-bullet;
  @include cf;

  .tile-item {
    position: relative;
    padding: 1.5em 1em;
    cursor: pointer;
    border: solid 1px $silver;
    background: white;
    @include border-radius(5px);

    &:hover {
      border: solid 1px $tundora;
    }
  }

  li[class~='reflow'] {
    margin-bottom: 2%;

    @include breakpoint($small) {
      float: left;
      width: 48%;
      margin-right: 2%;
    }

    @include breakpoint($large) {
      width: 32.33%;
      margin-right: 1%;
      margin-bottom: 1%;
    }

    @include breakpoint($xxlarge) {
      width: 24%;
    }
  }

  &.wide .tile-item {
    padding: 3em 1em 1.5rem;

    @include breakpoint($small) {
      width: 100%;
      float: none;
      padding: 4.5em 1em 1.5rem;

      .trim-highlights-list {
        display: block;
      }
    }
  }

  .img-container {
    margin: 2.5em 1em 1.5em;
    padding-top: 65.9375%; /* Height to Width ratio of the source vehicle image: 211(h) / 320(w) */
    img {
      position: absolute;
      top: 50%;
      text-indent: -9999px;
      width: 100%;
      max-width: initial;
      @include translateY(-50%);

      @include breakpoint($small) {
        width: auto;
        max-width: 100%;
        max-height: 100%;
      }
    }
  }

  &.wide .img-container {
    @include breakpoint($small) {
      padding: 0;
      width: 33%;
      margin: 0 0 0 27%;

      img {
        position: static;
        @include translateY(0);
      }
    }
  }

  .caption-1, .caption-2 {
    position: absolute;
    left: 1em;
    right: 1em;

    .col {
      float: left;

      &:last-of-type {
        @include last;
      }
    }

    .sub {
      display: block;
      margin-bottom: .25em;
      color: $gray;
      @include font(1.4, 1);

      &.inline {
        display: inline;
      }
    }

    .item {
      display: block;
      margin: 0;
      color: $body-font-color;
      @include font(1.8, 1.2);

      &.trim-name {
        @include font(1.8, 1.2);
      }
    }

    .trim-highlights-list {
      display: none;

      @include breakpoint($small) {
        @include horizontal-list-container;

        li {
          text-align: center;
          @include horizontal-list-item;
          padding: 0 10px;
          border-right: solid 1px #999;

          &:last-of-type {
            border-right: 0;
          }
        }
      }
    }
  }

  .caption-1 {
    top: .75em;

    h2 {
      margin: 0;
      font-weight: normal;
    }
  }

  .caption-2 {
    bottom: .75em;
    @include cf;

    .trim-count {
      position: absolute;
      bottom: 0;
      right: -5px;
      width: 5rem;
      height: 5rem;
      padding: .25em;
      background: $accent-color;
      color: #FFF;
      text-align: center;
      z-index: 3;
      @include border-radius(30px);
      @include font(2.4, 1);

      small {
        display: block;
        @include font(1.2, 1);
      }
    }
  }

  &.wide .caption-1, &.wide .caption-2 {

    .sub {

      @include breakpoint($small) {
        @include font(1.3, 1.3);
      }
    }

    .item {

      @include breakpoint($small) {
        display: block;
        margin: 0;
        @include font(1.5, 1.2);
      }

      @include breakpoint($large) {
        @include font(2, 1.2);
      }

      &.trim-name {

        @include breakpoint($small) {
          @include font(1.8, 1.2);
        }

        @include breakpoint($large) {
          @include font(2.4, 1.2);
        }
      }
    }
  }

  .tile-item-view {
    clear: both;
  }
}

// $RESEARCH TRIM DETAILS
.trim-hero-cont {
  margin-bottom: 1.5em;
  @include cf;

  h2 {
    margin-bottom: 0;
    line-height: 1;
  }

  img {
    max-width: 500px;
    margin: 0 auto;
  }

  @include breakpoint($medium-portrait) {

    .col1 {
      padding-top: 3em;
      float: left;
      @include span(7 of 12);
    }

    .col2 {
      float: right;
      @include span(5 of 12 last);
    }
  }

  @include breakpoint($medium) {

    img {
      max-width: initial;
      margin: initial;
    }

    .col1 {
      float: left;
      @include span(8 of 12);
    }

    .col2 {
      float: right;
      @include span(4 of 12 last);
    }
  }

  @include breakpoint($large) {

    .col1 {
      float: left;
      padding-top: 0;
      @include span(8 of 12);
    }

    .col2 {
      float: right;
      @include span(4 of 12 last);
    }
  }

  @include breakpoint($xxlarge) {

    .col1 {
      @include span(6 of 12);
    }

    .col2 {
      @include span(6 of 12 last);
    }
  }
}

.summary-cont {
  position: relative;
  padding: 1em;
  background: $overlay-dk;
  color: #fff;
  @include border-radius(5px);

  @include breakpoint($xxlarge) {
    max-width: 360px;
    margin: 0 auto;
  }

  ul {
    padding-left: 0;
    margin: 0;
    @include no-bullets;

    .wrap {
      display: block;
    }

    em {
      font-style: normal;

      @include breakpoint($small) {
        @include font(1.6, 1.3);
      }

      &.highlight {
        @include font(1.5, 1.3);

        @include breakpoint($xlarge) {
          @include font(1.8, 1.3);
        }
      }
    }

    .sub {
      margin-right: .75em;
      font-size: 1.2rem;
    }
  }

  .summary > li {
    position: relative;
    border-bottom: 1px solid $dove-gray;
    padding: .25em;

    &:last-of-type {
      border-bottom: none;
    }
  }

  .mpg {
    @include cf;

    li {
      border-bottom: none;
      float: left;

      &:first-of-type {

        &:after {
          content: " \002F ";
          margin-right: .5em;
          color: $tundora;
        }
      }
    }
  }
}

.trim-get-pricing {
  display: block;
  width: 100%;
  margin: .5em auto;
  @include font(2, 1.3);

  @include breakpoint($xlarge) {
    max-width: 360px;
  }
}

.editor-cont {
  h2, h3, h4, h5 {
    line-height: 1.3;
  }

  h2 {
    @include font(2.2, 1.3);

    &:empty {
      display: none;

      & + p {
        margin-top: 0;
      }
    }
  }

  a {
    font-weight: bold;
    @include link-colors($normal, $hover);
  }
}

.trim-picsnvids {
  img {
    max-width: 500px;
    width: 100%;
    margin: 0 auto;

    @include breakpoint($xlarge) {
      max-width: 600px;
    }
  }
}

.trim-colors {
  padding: 0;
  @include cf;
  @include no-bullets;

  li {
    @include cf;

    @include breakpoint($small-only) {
      margin-bottom: gutter();
    }

    @include breakpoint($small) {
      @include gallery(6 of 12);
      margin-bottom: gutter();
    }

    @include breakpoint($medium-portrait) {
      @include gallery(6 of 12);
      margin-bottom: gutter();
    }

    @include breakpoint($xlarge) {
      @include gallery(4 of 12);
      margin-bottom: gutter();
    }

    @include breakpoint($xxlarge) {
      @include gallery(3 of 12);
      margin-bottom: gutter();
    }
  }

  figure {
    margin: 0 5% 0 0;
    float: left;
    width: 20%;

    @include breakpoint($small) {
      width: 30%;
    }
  }

  figcaption {
    margin-right: 5%;
    float: right;
    width: 70%;
    @include font(1.3, 1.5);

    @include breakpoint($small) {
      width: 60%;
    }
  }
}

// $COMPARE CARS POPULAR COMPARISONS
.popular-comparisons {
  @include cf;

  > .col {
    padding: 5px;
    margin-bottom: 1.5em;

    @include breakpoint($small) {
      float: left;
      width: 44%;

      &:nth-child(2n) {
        @include last;
      }

      &:nth-child(2n+1) {
        clear: left;
      }
    }
  }

  .side-by-side {
    margin-bottom: 1.5em;
    @include cf;

    > .col1, > .col2 {
      width: 44%;
      text-align: center;
    }

    > .col1 {
      float: left;
    }

    > .col2 {
      float: right;
    }

    .h5 {
      @include font(1.4, 1.3);
    }

    .col-vs {
      float: left;
      width: 12%;
    }

    .circle-text {
      margin-top: 2em;
      @include font(2);
    }
  }
}

// $CIRCLE LABEL
.circle-text {
  width: 75%;
  margin: 0 auto;
}

.circle-text:after {
  content: "";
  display: block;
  width: 100%;
  height: 0;
  padding-bottom: 100%;
  background: $mercury;
  -moz-border-radius: 50%;
  -webkit-border-radius: 50%;
  border-radius: 50%;
}

.circle-text div {
  float: left;
  width: 100%;
  padding-top: 50%;
  line-height: 1em;
  margin-top: -0.5em;
  text-align: center;
}

// $COMPARE CARS TABLE
$compare-col-width: 190px;
$compare-col-padding: .5em 1.5em;

.compare-head-cont, .compare-data-cont {
  margin-left: $compare-col-width;
  overflow-y: hidden;

  .rowhead {
    position: absolute;
    top: auto;
    left: 2.45em;
    text-align: left;

    .i-sort {
      position: absolute;
      right: 10px;
      width: 1.5em;
      height: 1.5em;
      cursor: pointer;
    }
  }

  th, td {
    min-width: $compare-col-width;
    max-width: $compare-col-width;
    @include font(1.3, 1.5);
  }

  td {
    padding: $compare-col-padding;
    text-align: center;
  }
}

.compare-head-cont {
  overflow-x: auto;

  .add-car {
    position: absolute;
    top: 168px;
  }

  th {
    position: relative;
    text-align: center;
    vertical-align: top;
    border-right: 2px #DDD solid;
  }

  .card {
    position: relative;
    cursor: pointer;

    &:hover {
      .hover-content {
        display: inline-block;
        position: absolute;
        top: 46px;
        left: 0;
        right: 0;
        padding: .5em 1em;
        background: rgba(102,204,0, 0.8);
        color: #FFF;
        @include font(1.8, 1.5);
      }
    }
  }

  .img-container {
    padding: .75em 1.5em;

    .hover-content {
      display: none;
    }
  }

  .ymmt-cont {
    padding: $compare-col-padding;
    vertical-align: top;
  }

  .model-year {
    position: absolute;
    bottom: 0;
    left: 18px;
    display: inline-block;
    padding: .25em .5em;
    background-color: $tundora;
    color: #fff;
    @include font(1.2, 1.3);
  }

  .make-model {
    display: block;
    font-weight: 700;
    @include font(1.5, 1.3);
  }

  .trim {
    font-weight: 400;
  }
}

// $Context-menu dropdown
.cm-trigger {
  position: absolute;
  top: 0;
  left: -1px;
  vertical-align: middle;
  background: $mercury;
  cursor: pointer;
  @include border-radius(2px);

  .icon {
    width: 1.5em;
    height: 1.5em;
  }

  svg {
    fill: $dove-gray;
  }
}

.context-menu {
  z-index: 1;

  &:focus {
    pointer-events: none;
    outline: none;
  }
}

.cm-dropdown {
  position: absolute;
  top: 0;
  left: 19px;
  z-index: 2;
  min-width: 80px;

  ul {
    max-width: 80px;
    margin: 0;
    padding: 0;
    background: rgba(255,255,255,.95);
    border: solid 1px #DDD;

    li {
      margin: 0;
      padding: 0;
      border-bottom: solid 1px $mercury;
      list-style: none;
      text-align: left;

      &:last-of-type {
        border-bottom: none;
      }
    }
  }

  button {
    width: 100%;
    display: block;
    @include font(1.3);
    color: $tundora;
  }
}

.cm-trigger:hover ~ .img-container .hover-content,
.cm-trigger:focus ~ .img-container .hover-content {
  display: none;
}

.compare-grp-head {
  margin: .125em 0 0;
  line-height: 1;
  padding: .5em 1em;
  background: #B3B3B3;
  color: #fff;
  @include font(1.7, 1);

  svg {
    cursor: pointer;
    fill: #fff;
  }
}

.compare-data-cont {
  overflow-x: auto;

  table {
    margin-bottom: .75em;
  }

  th {
    background: $mercury;
    text-align: left;
    padding: $compare-col-padding;
  }

  td {
    background: #fff;
    border-right: solid 2px $mercury;
  }

  tr:hover {
    th, .th-fillter {
      background: #D3D3D3;
    }

    td {
      background: #f1f1f1;
    }

    &.customize {
      th {
        background: #D3D3D3;
      }

      td {
        background: none;
      }
    }
  }

  .th-fillter {
    position: absolute;
    top: 0;
    bottom: 0;
    background: $mercury;
    width: 100%;
    margin-left: -1.5em;
    padding: .5em 1.5em;
    /*height: 50px; This is the value we need to get using js*/
  }

  .customize {
    .rowhead {
      padding: 0;
    }

    .cust-button {
      width: 100%;
      height: 45px;
      padding: 0;
      background-color: $accent-color-hover;
      color: #FFF;
      @include cf;

      label {
        cursor: pointer;
      }

      .label-1 {
        float: left;
        width: 75%;
        padding: .75em 1.25em;
        text-align: left;
        @include font(1.8, 1);
      }

      .label-2 {
        float: right;
        width: 25%;
        height: 45px;
        padding: 1em;
        background-color: $accent-color;

        .i-pencil {
          width: 1.5em;
          height: 1.5em;
        }

        svg {
          position: static;
          fill: white;
        }
      }
    }

    td {
      border-right: 0;
    }
  }

  .best {
    color: $accent-color-hover;
    font-weight: 700;
  }
}

.compare-cust-cont {

  .compare-tag-list {

    ul, li {
      @include no-bullets;
      padding-left: 0;
    }

    ul ul {
      @include cf;
    }
  }

  .wrap {
    padding: 2em 2em 2em 4em;
    background: rgba(0, 0, 0, 0.3);

    @include breakpoint($small) {

      .compare-tag-list {

        ul {
          @include columns(367px 2);
        }

        li {
          @include break-inside(avoid);
        }

        .btn-opaque {
          padding: .25em 1em;
        }
      }
    }

    .btn-primary {
      width: 30%;
    }
  }
}

// $ARTICLE
.single-post {
  margin-bottom: 1.5em;
  @include cf;

  @include breakpoint($xxlarge) {
    position: relative;
    padding-bottom: 130px;

    .ldrboard-cont {
      display: block;
      position: absolute;
      top: auto;
      bottom: 0;
      left: 0;
      right: 0;
    }
  }

  .crop-vertically {
    padding-top: 66.67%;
    position: relative;

    @include breakpoint($medium) {
      margin: -5% auto -5%;
    }

    @include breakpoint($xxlarge) {
      margin: 0;
    }
  }

  .banner {
    margin: 0 auto;
  }

  .media {
    height: auto !important;
    margin-bottom: .75em;

    @include breakpoint($small) {
      max-width: 800px;
    }

    @include breakpoint(($medium-portrait, $medium)) {
      margin-bottom: 1.5em;
    }

    @include breakpoint($xxlarge) {
      @include span(7 of 12);
      max-width: initial;
      margin-right: 2em;
      margin-bottom: .75em;
    }

    .vid-container {
      position: relative;
      height: 0;
      overflow: hidden;
      // 16x9 Aspect Ratio
      &-16x9 {
        padding-bottom: 56.25%;
      }
      // 4x3 Aspect Ratio
      &-4x3 {
        padding-bottom: 75%;
      }

      iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
    }

    img {
      position: absolute;
      top: 50%;
      -moz-transform: translateY(-50%);
      -ms-transform: translateY(-50%);
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      text-indent: -9999px;
      color: rgba(0, 0, 0, 0);
      max-width: 100%;
    }

    .story {
      @include breakpoint($xxlarge) {
        @include span(6 of 12 last);
      }
    }

    &[style*='none'] ~ .story {
      width: 100%;
    }
  }

  h2 {
    line-height: normal;

    @include breakpoint($large) {
      margin-top: 0;
    }
  }

  @include breakpoint($small) {
    p {
      @include font(1.6);
    }
  }
}

// $USED CAR VALUE
.ucv-form {

  .disclaimer-cont {
    margin: 3em 0;

    p {
      @include font(1.4, 1.3);
    }
  }

  .new-search {
    @include breakpoint($small) {
      position: absolute;
      top: 2em;
      right: 2em;
    }
  }

  .next {
    display: block;
    margin: 0 auto;

    svg {
      fill: currentColor;
    }

    @include breakpoint($small) {
      width: 15rem;
    }
  }

  select, button {
    display: block;
    width: 100%;
    margin-bottom: .75em;

    @include breakpoint($small) {
      display: inline-block;
      width: auto;
      margin-bottom: 0;
    }
  }

  .details-list {
    display: table;
    margin: 3rem 0;

    .row {
      display: table-row;
    }

    .item, .option {
      display: table-cell;
      padding: .25em 0;
      vertical-align: top;

      @include breakpoint($small) {
        @include font(1.4, 1.5);
      }
    }

    .option {
      padding-left: 1em;

      .radio {
        margin-right: .75em;
      }
    }

    .info {
      .icon.inline {
        width: 1.1em;
        fill: $silver;
      }
    }
  }

  .more-details-list {
    padding-left: 0;
    margin: 0 0 3rem;
    @include no-bullets;
    @include cf;

    &.has-bullet {
      padding-left: 20px;
      list-style-type: disc;
    }

    li {
      padding: .25em 0;

      @include breakpoint($small) {
        @include font(1.4, 1.5);
        @include span(6 of 12);

        &:nth-child(2n) {
          @include last;
        }
      }

      @include breakpoint($xxlarge) {
        @include span(4 of 12);

        &:nth-child(3n) {
          @include last;
        }
      }
    }
  }

  .condition-list {
    padding-left: 0;
    margin-bottom: .75em;
    @include no-bullets;

    li {
      display: inline-block;
      padding: 0 1em;

      &:first-of-type {
        padding-left: 0;
      }
    }
  }

  .tip-bubble {
    padding: .25em 1em;
    margin-bottom: 2em;
    background: #fff;

    p {
      margin: .75em;
      @include font(1.3, 1.3);

      .em {
        color: $accent-color;
        font-weight: 700;
        @include font(1.5, 1.5);
      }
    }
  }
}

.kbb-logo {
  display: inline-block;
  width: 49px;
  height: 64px;
  max-width: 100%;
  background-size: contain;
  background: url(img/kbb-small.png) 0 0 no-repeat;
  vertical-align: middle;
}

.ucv-step1 {
  @include cf;

  @include breakpoint($xlarge) {
    width: 85%;
    margin: 0 auto;
  }


  .type-cont {
    @include breakpoint($small) {
      visibility: hidden;
      @include span(8 of 12 last);
    }
  }

  select, .validation-summary-errors {
    width: 100%;
    margin: 0 auto 2%;

    @include breakpoint($small) {
      @include span(4 of 12);
      clear: left;
    }
  }

  .next {
    @include breakpoint($small) {
      @include span(4 of 12);
      margin: 0 auto;
      clear: left;
    }
  }
}

.car-value-cont {

  select, .car-value {
    vertical-align: middle;
  }

  select {
    margin-right: 1em;
  }

  .car-value {
    color: $accent-color;
    @include font(3, 1.5);
  }
}

.ucv-last {
  @include cf;

  @include breakpoint($small) {

    .col {
      @include span(1 of 2);

      &:last-of-type {
        @include span(1 of 2 last);
      }
    }
  }

  select {
    width: 100%;
    margin-bottom: .5em;
  }
}

[class*='btn-'] {
  @extend %btn;
  @include font(1.3, 1.5);

  @include breakpoint($small) {
    @include font(1.4, 1.5);
  }

  svg {
    fill: CurrentColor;
  }

  &:hover {
    text-decoration: none;
  }

  &.block {
    display: block;
    width: 100%;
    margin-bottom: .5em;
  }

  &.slim {
    @include breakpoint($small) {
      padding: .25em .5em;
    }
  }

  &.lg {
    padding: .75em 1.5em;

    @include breakpoint($small) {
      @include font(1.8, 1);
    }
  }

  h1, h2, h3, h4, h5, h6 {
    margin: 0;
  }

  .subheading {
    display: inline-block;
    line-height: normal;
    font-weight: normal;
  }
}

.btn-zero {
  background: transparent;
  @include link-colors($normal, $hover);

  &:hover {
    background: transparent;
  }
}

.btn-default {
  background: $mercury;
  color: $body-font-color;

  &:hover, &.selected {
    background: $silver;
    color: $body-font-color;
  }
}

.btn-primary {
  @extend %btn-3d;
  font-weight: bold;
  background: $accent-color;
  @include font(1.4, 1.5);
  @include link-colors(#fff, #fff);

  &:hover, &.selected {
    background: $accent-color-hover;
  }

  &.selected {
    color: #fff;
  }
}

.btn-secondary {
  @extend %btn-3d;
  background: $brand-color;
  @include link-colors(#fff, #fff);

  &:hover, &.selected {
    background: $malibu;
  }

  &.selected {
    color: #fff;
  }
}

// e.g., Year selector on research/supermodel
.btn-search-tag {
  margin: 4px 0;
  padding: .5em .35em .5em .5em;
  background: $porcelain;
  color: $body-font-color;
  @include font(1.2, 1.5);

  &:hover {
    color: $accent-color;
  }

  svg {
    fill: currentColor;
  }
}

.btn-opaque {
  background: rgba(255, 255, 255, .3);
  @include link-colors(#fff, #fff);

  &-invert {
    background: rgba(255, 255, 255, .3);
    color: $body-font-color;
  }

  &.selected {
    color: #fff;
  }

  &:hover, &.selected {
    background: rgba(255, 255, 255, .4);

    &-invert {
      background: rgba(255, 255, 255, .4);
      color: $body-font-color;
    }
  }
}

.btn-default-ovl {
  background: rgba(0,0,0,.4);
  @include link-colors($alabaster, #fff);

  &:hover {
    background: $accent-color;
  }
}

.btn-combo {

  .label-2 {
    &:before {
      content: " | ";
      padding: 0 .25em;
      color: $chathams-blue;
    }
  }

  .label-1, .label-2 {
    display: inline-block;
    cursor: pointer;
  }
}

.btn-calc {
  display: block;
  padding: 2.3em 1.5em;
  @extend %btn-gradient;

  h3 {

    @include breakpoint($small) {
      @include font(2.1, 1.2);
    }

    small {
      display: block;
      color: $body-font-color;
      font-size: 65%;
    }
  }
}

// $LINE ON SIDES
.line-on-sides {
  overflow: hidden;
  text-align: center;

  &:before, &:after {
    background-color: #252525;
    content: "";
    display: inline-block;
    height: 2px;
    position: relative;
    vertical-align: middle;
    width: 50%;
  }

  &:before {
    right: 0.5em;
    margin-left: -50%;
  }

  &:after {
    left: 0.5em;
    margin-right: -50%;
  }
}

// $INLINE BLOCK (BUTTON) LIST
%btn-list {
  @include inline-block-list;
  margin-bottom: 3em;

  li {
    margin-right: .25em;
    margin-bottom: .5em;

    &.selected button {
      color: #fff;
      background: $accent-color;

      &:before {
        margin-right: 2em;
      }
    }

    &.disabled button {
      background: transparent;
      color: #23679B;
    }
  }
}

// $BLOCK LIST
.block-list {
  @include block-list();

  li {
    margin-bottom: .75em;

    a {
      @include link-colors($normal, $accent-color);
      @include font(1.5, 1.5);
    }
  }
}

// e.g., active filters on carsforsale/results
.tag-list {
  display: inline;
  @include inline-block-list(2px);
  margin-bottom: .75em;
}

.btn-back {
  background: none;
  color: $astral;

  &:hover {
    background: none;
    color: $hover;
  }

  svg {
    width: 1em;
    height: auto;
    vertical-align: middle;
    fill: currentColor;
  }
}

.btn-unstyled {
  background: none;
  @include link-colors($picton-blue, #fff);

  &:hover, &.selected {
    background: rgba(255, 255, 255, .4);
  }

  &.selected {
    color: #fff;
  }
}

.btn-minimal {
  background: none;
  @include link-colors($astral, $hover);

  &:hover, &.selected {
    background: rgba(255, 255, 255, .4);
  }
}

// $PAGINATION [Snippets]

// | Previous | Next | (e.g., Article Template):
// <div class="pager3 two">
//  <ul>
//    <li><a>Prev</a></li>
//    <li><a>Next</a></li>
//  </ul>
// </div>

// | Previous | x of y | Next | (e.g., Old CarsForSale Results):
// <div class="pager3 three">
//  <ul>
//    <li><button>Prev</button></li>
//    <li><span class="xofy"></span></li>
//    <li><button>Next</button></li>
//  </ul>
// </div>

// | Previous | x | y | z | ... | Next | (e.g., Article Home):
// <div class="pager">
//  <ul>
//    <li><a>Previous</a></li>
//    <li class="active">1</li>
//    <li><a>2</a></li>
//    <li><a>3</a></li>
//    <li class="disabled"><span>...</span></li>
//    <li><a>5</a></li>
//    <li><a>Next</a></li>
//  </ul>
// </div>

// | Previous | x | y | z | ... | Next | (e.g., New CarsForSale Results):
// <div id="paginator_js" class="pager2">
//   <ul>
//     <li class="active"><span title="Page 1">1</span></li>
//     <li><button data-go-page="2" id="pg_link_js" title="Page 2">2</button></li>
//     <li><button data-go-page="3" id="pg_link_js" title="Page 3">3</button></li>
//     <li class="disabled"><span>...</span></li>
//     <li><button data-go-page="10" id="pg_link_js" title="Page 10">10</button></li>
//     <li>
//       <button data-go-page="2" id="pg_next_js" title="Page 2">Next
//         <span class="icon inline">
//           <svg>
//             <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/svg/global-sprite.svg#i_arrow3_r"></use>
//           </svg>
//         </span>
//       </button>
//     </li>
//   </ul>
// </div>

.pager {
  text-align: center;

  ul {
    display: inline-block;
    @include horizontal-list-container;

    li {
      @include horizontal-list-item;
      @include font(1.3);

      @include breakpoint($small) {
        font-size: initial;
      }

      &.padding {
        padding: 0 1em;

        span {
          vertical-align: middle;
        }
      }

      a {
        background: $concrete;
        border: solid 1px #E2E2E2;
        cursor: pointer;
        @include border-radius(3px);
        @include background-image(linear-gradient(to bottom, #FAFAFA 0%,#EFEFEF 100%));
        @include link-colors($astral, $astral);

        &:hover {
          background: #efefef;
        }

        svg {
          fill: currentColor;
        }
      }

      > a, > span {
        padding: .25em .5em;
        display: inline-block;

        @include breakpoint($small) {
          padding: .25em .75em;
        }
      }
    }
  }
}

.pager2 {
  text-align: center;

  ul {
    display: inline-block;
    @include horizontal-list-container;

    li {
      @include horizontal-list-item;
      @include font(1.3);

      @include breakpoint($small) {
        font-size: initial;
      }

      &.padding {
        padding: 0 1em;

        span {
          vertical-align: middle;
        }
      }

      button {
        display: inline-block;
        padding: .25em .75em;
        background: #F4F4F4;
        cursor: pointer;
        border: solid 1px $alto;
        text-align: center;
        @include border-radius(3px);
        @include background-image(linear-gradient(to bottom, #FAFAFA 0%,#EFEFEF 100%));
        @include link-colors($astral, $astral);

        @include breakpoint($small) {
          width: auto;
        }

        &:hover {
          background: #efefef;
        }

        svg {
          fill: currentColor;
        }
      }

      > span {
        padding: .25em .5em;
        display: inline-block;

        @include breakpoint($small) {
          padding: .25em .75em;
        }
      }
    }
  }
}

.pager3 {
  margin-bottom: .25em;
  @include cf;

  a, button {
    display: inline-block;
    padding: .25em .75em;
    background: #F4F4F4;
    cursor: pointer;
    border: solid 1px $alto;
    text-align: center;
    @include border-radius(3px);
    @include background-image(linear-gradient(to bottom, #FAFAFA 0%,#EFEFEF 100%));
    @include link-colors($astral, $astral);

    @include breakpoint($small) {
      width: auto;
    }

    &:hover {
      background: #efefef;
    }

    &.simple {
      padding: .25em 0;
      border: none;
      background: none;

      &:hover {
        color: $malibu;
      }
    }
  }

  ul {
    padding-left: 0;
    margin: 0;
    @include cf;
    @include no-bullets;
  }

  &.two {
    li {
      width: 49.5%;
      float: left;

      &:last-of-type {
        float: right;
        text-align: right;
      }
    }
  }

  &.three {

    li {
      width: 33.33%;
      float: left;

      &:last-of-type {
        float: right;
        text-align: right;
      }

      .xofy {
        display: block;
        padding: .35em 0;
        text-align: center;
      }
    }
  }

  svg {
    fill: currentColor;
  }

  &.mobi {
    @include breakpoint($small) {
      display: none;
    }
  }
}

// $BLOCKQUOTE
.blockquote-cont {
  display: table;
  width: 100%;
  padding: 1em;
  background: $alabaster;
  border-radius: 10px;

  &:before {
    content: "\201C";
    vertical-align: top;
  }

  &:after {
    content: "\201D";
    vertical-align: bottom;
  }

  &:before, &:after {
    display: table-cell;
    padding-top: .5em;
    color: $alto;
    font-family: Georgia, serif;
    font-size: 6em;
    line-height: 0.1em;
    text-align: center;
  }

  .blockquote {
    display: table-cell;
    padding: 0 2em 1em;
    text-align: center;

    p {
      @include font(1.3, 1.5);
    }
  }

  .cite {
    font-weight: 700;
    @include font(1.3, 1.2);
  }
}

q {
  quotes: "“" "”" "‘" "’";
}

q:before {
  content: open-quote;
}

q:after {
  content: close-quote;
}


// $TOOLTIP
.has-tooltip {
  cursor: pointer;
  -webkit-transform: translateZ(0); /* webkit flicker fix */
  -webkit-font-smoothing: antialiased; /* webkit text rendering fix */
  .tooltip {
    background: $accent-color;
    bottom: 100%;
    color: #fff;
    display: block;
    left: -57px;
    margin-bottom: 15px;
    opacity: 0;
    padding: 15px;
    pointer-events: none;
    position: absolute;
    width: auto;
    @include transform(translateY(10px));
    @include transition(all .25s ease-out);
    @include box-shadow(2px 2px 6px rgba(0, 0, 0, 0.28));

    &:before {
      bottom: -20px;
      content: " ";
      display: block;
      height: 20px;
      left: 0;
      position: absolute;
      width: 100%;
    }

    &:after {
      border-left: solid transparent 10px;
      border-right: solid transparent 10px;
      border-top: solid $accent-color 10px;
      bottom: -10px;
      content: " ";
      height: 0;
      left: 50%;
      margin-left: -13px;
      position: absolute;
      width: 0;
    }
  }

  &:hover {
    .tooltip {
      opacity: 1;
      pointer-events: auto;
      @include transform(translateY(0px));
    }
  }

  .block-list {
    margin-bottom: 0;
    @include font(1.15, 1.2);
  }
}

// $ADS
.ldrboard-cont {
  display: none;

  @include breakpoint($small) {
    display: block;
    position: absolute;
    top: 0;
    left: 2em;
    right: 2em;
    padding: .75em 0;
    margin: 0 auto;

    .media + & {
      max-width: 800px;

      @include breakpoint($xlarge) {
        margin: 0 auto;
      }
    }
  }

  @include breakpoint($medium) {
    margin: 0 auto;
  }

  @include breakpoint($large) {
    position: static;
    height: auto;
    display: block;
    padding: 0;
    margin: 0 auto 1.5em;
  }

  @include breakpoint($xxlarge) {
    margin-bottom: 1.5em;
  }

  .ad-container {
    display: none;

    @include breakpoint($small) {
      display: block;
      height: 90px;
      text-align: center;
      margin: 0 auto;

      .primary & {
        margin-bottom: 0;
      }
    }

    .ad {
      display: inline-block;
    }
  }
}

.section-pad > div:first-child.ldrboard-cont {
  @include breakpoint($large) {
    padding-top: 0;
  }
}

/* center shopping links */
.primary .ad[id*='js_tile_4'] {
  text-align: center;
}

// $MOBILE ADS
.mobilead-cont {
  width: 100%;

  &.top {
    margin: 0 auto;
    background: #EFEFEF;
    padding: .25em;
  }

  &.bottom {
    height: auto;
    margin: .5em auto;
  }

  @include breakpoint($small) {
    display: none;
  }

  .ad-container {
    display: block;
    text-align: center;

    .ad {
      display: inline-block;
    }
  }

  &.fixed {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1;
  }

  &.disabled {
    display: none;
  }
}

.sidebar {
  .ad-set {

    @include breakpoint($medium) {
      padding: 0 1em 1em 1em;
      margin-top: $top-ldrboard-offset; // So leaderboard can fit above
    }

    @include breakpoint($large) {
      margin-top: 2em; // No need to reserve a space for leaderboard
    }
  }

  .ad-container {
    margin-bottom: 1.5em;
  }

  .ad {
    @include breakpoint($small) {
      width: $sidebar-ad-width;
      margin: 0 auto;
    }

    margin-bottom: .5em;
  }
}

// $RESPONSIVE TABLE
.r-tbl {
  margin-bottom: 1.5em;

  table {
    border: 1px solid $silver;
    margin: 0 0 1.5em;
    padding: 0;
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;

    tr {
      border: 1px solid $alto;
      padding: 5px;
    }

    th, td {
      padding: .75em;
      text-align: center;
      @include font(1.3, 1.3);

      sub {
        bottom: 0;
      }
    }

    thead th {
      background: $concrete;
    }

    th {
      letter-spacing: 1px;
    }
  }

  caption {
    margin-bottom: .75em;
    text-align: left;
    font-weight: bold;
    @include font(1.8, 1.3);
  }

  @media screen and (max-width: 600px) {

    table {
      border: 0;

      thead {
        display: none;
      }

      tr {
        margin-bottom: 10px;
        display: block;
        border-bottom: 2px solid $alto;
      }

      td {
        display: block;
        text-align: right;
        border-bottom: 1px dotted $silver;
      }

      td:last-child {
        border-bottom: 0;
      }

      td:before {
        content: attr(data-label);
        float: left;
        font-weight: bold;
      }
    }
  }
}

// $BACK TO [Snippets]

//<a href="" class="btn-back-to">
// <span class="icon inline">
//   <svg>
//     <use xlink:href="/assets/svg/global-sprite.svg#i_level_up"></use>
//   </svg>
//  </span>
// <span class="text">Back to BMW 3 Series</span>
//</a>*/

.btn-back-to {
  margin-right: .5em;
  background: transparent;
  color: #fff;

  &:hover {
    background: transparent;
  }

  .icon {
    margin-right: .25em;
  }

  .text {
    vertical-align: middle;
  }
}

.i-info {
  width: 1em;
  height: 1em;
}

.sugged-widget-cont {
  @include cf;

  .sugged-item {
    position: relative;
    text-align: center;

    .img-container {
      padding: 0 1.5em;
    }

    img {
      margin: 0 auto;
    }

    .price {
      @include font(1.7, 1.3);

      .overlay & {
        color: $picton-blue;
      }
    }

    @include breakpoint($medium-portrait) {
      margin-bottom: gutter(12) * 3;
      @include span(4 of 12);

      &:nth-of-type(2n) {
        float: left;
        margin-right: gutter(12);
      }

      &:nth-of-type(3n) {
        @include last;
      }

      &:nth-of-type(3n+1) {
        clear: left;
      }
    }

    @include breakpoint($medium) {
      margin-bottom: gutter(12) * 3;
      @include span(4 of 12);

      &:nth-of-type(2n) {
        float: left;
        margin-right: gutter(12);
      }

      &:nth-of-type(3n) {
        @include last;
      }

      &:nth-of-type(3n+1) {
        clear: left;
      }
    }

    @include breakpoint($large) {
      @include span(2 of 12);

      &:nth-of-type(3n) {
        float: left;
        margin-right: gutter(12);
      }

      &:nth-of-type(3n+1) {
        clear: none;
      }

      &:nth-of-type(6n) {
        @include last;
      }
    }

    .overlay & {

      @include span(6 of 12);
      padding: 0 .5em;
      margin-bottom: 1.5em;
      background: rgba(0,0,0,.1);
      @include border-radius(5px);

      &:nth-of-type(2n) {
        @include last;
      }

      @include breakpoint($medium) {
        padding-top: 2em;
        @include span(2 of 10);

        &:nth-of-type(2n) {
          float: left;
          margin-right: gutter(12);
        }

        &:nth-of-type(3n) {
          float: left;
          margin-right: gutter(12);
        }

        &:nth-of-type(3n+1) {
          clear: none;
        }

        &:nth-of-type(5n) {
          @include last;
        }
      }
    }
  }

  .feedback {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    padding: 1em;
    background: rgba(86, 86, 86, 0.67);
    @include border-radius(5px);
    @include font(1.5, 1.3);

    .msg {
      position: absolute;
      bottom: 5px;
      left: 0;
      right: 0;
      padding: .25em 1em;
      background: $accent-color;
      color: #FFF;
    }

    .msg-no-inv {
      background: $cod-gray;
    }
  }
}

.sel-dlr-ovl-outer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,.5);
  z-index: 1;
}

.sel-dlr-ovl-mid {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  min-height: 100vh;
  background: $mine-shaft;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;

  @include breakpoint($small) {
    top: 50%;
    left: 50%;
    width: auto;
    min-height: initial;
    @include transform(translate(-50%,-50%));
  }

  .sel-dlr-ovl-inner {
    min-width: 550px;
    background: $mine-shaft;
    padding: 3em 3em 1.5em;
  }
}

// $SPINNER
.spinner {
  margin: 10px auto;
  font-size: 10px;
  position: relative;
  border-top: 1.1em solid rgba(255, 255, 255, 0.2);
  border-right: 1.1em solid rgba(255, 255, 255, 0.2);
  border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);
  border-left: 1.1em solid #ffffff;
  -webkit-transform: translateZ(0);
  -ms-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-animation: load8 1.1s infinite linear;
  animation: load8 1.1s infinite linear;
  @include hide-text;
}

.spinner,
.spinner:after {
  @include border-radius(50%);
  width: 6em;
  height: 6em;
}

@-webkit-keyframes load8 {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes load8 {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

.sugged-title {
  margin-top: 0;
  font-weight: normal;
  @include font(1.4, 1.3);

  .overlay & {
    margin-bottom: .75em;
    color: #fff;
    @include font(1.4, 1.3);

    @include breakpoint($medium) {
      height: 76px;
    }
  }

  .ellipsis {
    @include multi-ellipsis(1.4, 1.3, 2);
  }
}

.widget-cont {
  margin-top: 3em;
}

.sidebar-widget {
  margin-left: auto;
  margin-right: auto;
  padding: 1em;
  margin-top: 0;
  margin-bottom: 1.5em;
  background: $concrete;

  @include breakpoint($medium) {
    width: 300px;
    @include box-shadow(0px 2px 2px rgba(0, 0, 0, 0.3));
  }
}

.widget-heading {
  margin: 0 0 .5em;
  font-weight: bold;
  @include font(2, 1.3);

  &:before {
    border-top: solid 3px #525252;
    width: 10em;
  }

  .overlay & {
    color: $picton-blue;
  }
}

.widget-byline {
  margin: 0 0 .75em;
  @include font(1.5, 1.5);
}

.inline-input-box {
  padding: .25em .5em;
  border: solid 1px $alto;
  background: #fff;
}

.widget-list-item {
  position: relative;
  padding: .75em 0;
  border-bottom: solid 1px $silver;
  @include cf;

  &:last-of-type {
    border-bottom: none;
  }

  .overlay & {
    border-bottom: solid 1px $cod-gray;
  }

  .img-container {
    @include span(4 of 12);

    &.has-chkbox label {
      font-weight: bold;
      @include font(1.4, 1.5);
    }
  }

  .img-label {
    position: absolute;
    bottom: 0;
    left: 0;
    padding: .25em .5em;
    background: $picton-blue;
    color: white;
    text-align: center;
    @include font(1.2, 1);

    &.suggested {
      top: 0;
      bottom: auto;
      background: $accent-color;
    }
  }

  .desc {
    padding-left: .75em;
    @include span(8 of 12 last);

    .data {
      display: block;
    }
  }

  .primary-data {
    font-weight: bold;
    @include font(1.6, 1.5);
  }

  .secondary-data {
    @include font(1.3, 1.5);

    .overlay & {
      @include font(1.5, 1.5);
    }

    small {
      line-height: inherit;
    }
  }

  .cur-viewed-cont {
    position: absolute;
    top: .75em;
    bottom: .75em;
    left: 0;
    right: 0;
    @include background(rgba(255, 255, 255, .4));
  }

  .cur-viewed-text {
    position: absolute;
    bottom: 0;
    left: 0;
    display: inline-block;
    padding: .25em .5em;
    background: $picton-blue;
    color: #fff;
    font-weight: bold;
    text-align: center;
    @include font(1.1, 1.3);
  }
}

.masonry-grid[data-columns]::before {
  content: '3 .column.size-1of3';
}

/* These are the classes that are going to be applied: */
.column {
  float: left;
}

.size-1of3 {
  width: 33.333%;
}

.autonation-label {
  background: white;
  @include cf;

  .logo {
    background: url();
  }

  .copy {
    @include font(1.1, 1.3);
    font-style: italic;
    color: black;
  }
}

/* $ALL PURPOSE ACCORDION 
=================================================== */
.transition {
  @include transition(all 0.25s ease-in-out);
}

.flipIn {
  animation: flipdown 0.5s ease both;
}

.no-select {
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  -webkit-touch-callout: none;
  @include user-select(none);
}

.accordion {
  margin-bottom: 1.5em;

  h1, h2 {
    color: $body-font-color;
  }

  h1 {
    text-transform: uppercase;
    letter-spacing: 3px;
    font-weight: 100;
    @extend .flipIn;
  }

  h2 {
    font-weight: 300;
    letter-spacing: 1px;
    display: block;
    margin: 0;
    cursor: pointer;
    @include font(1.5, 1.5);
    @extend .no-select;
  }

  p {
    color: $gray2;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
    max-height: 800px;
    @extend .transition;
    opacity: 1;
    @include transform(translate( 0, 0 ));
    margin-top: 14px;
    z-index: 2;
    @include font(1.4, 1.5);
  }

  ul {
    list-style: none;
    perspective: 900;
    padding: 0;
    margin: 0;

    li {
      position: relative;
      padding: 0;
      margin: 0;
      padding: 18px 1em 4px;
      border-top: 1px dotted #D8D8D8;
      background: $alabaster;
      @extend .flipIn;

      &:hover {
        background: #F9F9F9;
      }

      &:nth-of-type(1) {
        animation-delay: 0.5s;
      }

      &:nth-of-type(2) {
        animation-delay: 0.75s;
      }

      &:nth-of-type(3) {
        animation-delay: 1.0s;
      }

      /*&:last-of-type {
        padding-bottom: 0;
      }*/

      i {
        position: absolute;
        @include transform(translate( -6px, 0 ));
        margin-top: 16px;
        right: 1em;

        &:before, &:after {
          content: "";
          @extend .transition;
          position: absolute;
          background-color: $silver;
          width: 3px;
          height: 9px;
        }

        &:before {
          @include transform(translate( -2px, 0 ) rotate( 45deg ));
        }

        &:after {
          @include transform(translate( 2px, 0 ) rotate( -45deg ));
        }
      }

      input[type=checkbox] {
        position: absolute;
        cursor: pointer;
        width: 100%;
        height: 100%;
        z-index: 1;
        opacity: 0;

        &:checked {
          & ~ p {
            margin-top: 0;
            max-height: 0;
            opacity: 0;
            @include transform(translate( 0, 50% ));
          }

          & ~ i {
            &:before {
              @include transform(translate( 2px, 0 ) rotate( 45deg ));
            }

            &:after {
              @include transform(translate( -2px, 0 ) rotate( -45deg ));
            }
          }
        }
      }
    }
  }
}

@keyframes flipdown {
  0% {
    opacity: 0;
    @include transform-origin(top center);
    @include transform(rotateX(-90deg));
  }

  5% {
    opacity: 1;
  }

  80% {
    @include transform(rotateX(8deg));
  }

  83% {
    @include transform(rotateX(6deg));
  }

  92% {
    @include transform(rotateX(-3deg));
  }

  100% {
    @include transform-origin(top center);
    @include transform(rotateX(0deg));
  }
}
